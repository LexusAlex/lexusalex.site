---
title: Используем next.js
author: alex
date: 2055-12-31 18:00:00 +0300
categories: [Next.js]
---

## Что такое Next.js

Это все, что нам нужно, чтобы построить веб приложении.

fullstack фреймворк для построения веб приложений

React framework

## Установка

Конфигурирование некста next.config.mjs - конфиг некста

## Маршрутизация

Роутинг основывается на файловой структуре. Наглядно будет это показывать именно на файлах и папках.

Чтобы, что-то сделать нужен роутинг, главное что мы будем использовать на полную - это роутинг 
 
```text
/app/page.js = /  Главная страница
```

Название файла `page.js`

Функциональный компонент из этого файла - это и есть страница

`layout` оборачивает все страницы

Можно сделать большое кол-во страниц

### Статичные страницы

В большинстве случаев для статичных страниц достаточно создать следующую иерархию каталогов

![img-description](/assets/img/posts/javascript/nextjs/next-1.png){: .shadow }
_Базовый роутинг статичных страниц_

Получается следующие пути

````text
/
/page1
/page2
/page3
````

Можно делать столь угодно вложенных страниц по этому же принципу. 

![img-description](/assets/img/posts/javascript/nextjs/next-2.png){: .shadow }
_Вложенные статичные страницы_

Тогда образуются следующие пути

````text
/page1/page11
/page1/page11/page12
/page1/page11/page12/page13
/page1/page11/page12/page13/page14
/page1/page11/page12/page13/page14/page15
````

> Если забыть в каталоге создать page.js тогда будет ошибка 404
{: .prompt-info }

### Динамические страницы

#### [id]

Динамический параметр нужно указать в квадратных скобках `[id]`.

![img-description](/assets/img/posts/javascript/nextjs/next-3.png){: .shadow }
_Динамический параметр_

Дотянутся до параметра можно через `props`

```javascript
export default function id({params}) {
  return <h1>{params.id}</h1>
}
```

Если у нас несколько параметров 

> Next при выборе пути смотрит в первую очередь на страницы с конкретным названием, если ее нет то берется в расчет динамический параметр 
{: .prompt-info }

### Группы маршрутов

Для построения модульной структуры полезно объединять маршруты в группы, это можно сделать заключив группы в `()` например

![img-description](/assets/img/posts/javascript/nextjs/next-6.png){: .shadow }
_Группы маршрутов_

При этом сама папка не будет участвовать в маршрутизации.

Удобно разделять маршруты на логические группы

## Шаблоны

Базовый корневой layout должен быть обязательно.

В нем так же должен быть обязательно ссылка на `{children}`

Шаблоны могут быть вложенными сколько угодно раз и каждый будет рендерить контент предыдущий шаблона

![img-description](/assets/img/posts/javascript/nextjs/next-4.png){: .shadow }
_Вложенный layout_

И если добавлять контент в каждый layout получаем примерно такое

![img-description](/assets/img/posts/javascript/nextjs/next-5.png){: .shadow }
_Контент вложенных layout_

> Вложенные layout идеальная штука для построения зависимых элементов вложенных меню
{: .prompt-info }


> В группах маршрутов layout тоже можно использовать
{: .prompt-info }

## Рендеринг
 
### Типы рендеринга

#### CSR

Клиент
  Клиент получает белый лист
Сервер
  Нагрузка минимальна

#### SSG

Генерация страниц во время билда
  Плохая масштабирвемость
  Юзерозависимая информация

#### SSR

Клиент
Сервер
  Сервер подготавливает данные
  Отрендерь страницу с данными 
  Минимальные требования к устройству клиента
  Подготовка страницы по запросу клиента

#### Гибрид

Генерация каких-то страниц во время билда
Объедение подходов выше 

## Загрузка данных

## Оптимизация
