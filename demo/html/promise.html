<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Promise</title>
</head>
<body>
<div id="container"></div>
<script>

  function load(url, url2) {
    return new Promise((resolve, reject) => {
      let image = new Image();
      image.src = url;
      image.addEventListener('load', () => {
        resolve(image);
      });
      image.addEventListener('error', (error) => {
        if (!url2 || image.src === url2) {
          reject(error);
        } else {
          image.src = url2;
        }
      });
    });
  }

  load('https://repository-images.githubusercontent.com/133151614/520b1700-7305-11e9-9038-99237803609b', 'https://repository-images.githubusercontent.com/478183466/4335f975-f6ff-4115-bd0c-3f3a6534f783').then((i) => {
    let container = document.getElementById('container');
    container.appendChild(i);
  }).catch((error) => {
    console.error('failed');
  });

</script>
</body>
</html>
