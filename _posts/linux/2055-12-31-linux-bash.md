---
title: bash
description: >-
  
author: alex
date: 2055-12-31 18:00:00 +0300
categories: [Linux]
tags: []
---

- Нужен для автоматизации задач

Язык сценариев bash

- Объявление переменных
- Условные операторы
- Операторы цикла
- Объявление массивов
- Объявление функций
 

bash - это сценарий - работает построчно

- Читабельность
- Комментарии к сложным операциям

Несколько частей

Расширение `.sh` требуется только в случае если мы хотим поместить скрипт в автозагрузку, в других случаях это не требуется

https://www.youtube.com/watch?v=lszvBuwGfAo&t=1365s

`+x` или `755` фаил можно запускать, это аналог `.exe` в windows

## Шибанг

`#! /usr/bin/bash` на работу скрипта шибанг не влияет

`./script` - запуск скрипта или
`/root/script` - запуск скрипта

`/usr/local/bin`
Но если скрипт поместить в директории переменой `$PATH`,тогда можно запускать с подсказкой табуляции

https://selectel.ru/blog/tutorials/what-is-shebang-for-in-bash-and-python/

## Переменные
 
Объявить и использовать переменные

````shell
#!/bin/bash
x=12
echo $x
echo "$x"
````

Название переменной должно отражать что в ней хранится

Переменные, введенные в терминале, сохраняются только в текущей сессии

Переменная с цифры не может начинаться.
Не может пробелов
Названия переменных лучше чтобы не пересекались с текущими программами

Типы кавычек

````shell
`` # Нужна чтобы внутри строки выполнить команду `date +%T`
"" # выполняет все операции в строке - используем его
'' # игнорирует все операции в строке, интерпретирует как текст 
````

Экранирование одинарной кавычки

```shell
echo 'i don'\''t d'
```

```shell
watch -n 1 test.sh # Зациклить скрипт, иногда вывает полезно
````
## Комментарии

- Лучше писать над строкой действий
 
## Выражение

````shell
let test=1+2
echo $test # 3
# Еще вариант
echo $((3+3+3)) # 9
````

sh - version 1 - freebsd
bash - version 2 - linux
 
## Ветвление

````shell
if test -f /etc/foo; then # тест на существование файла
  echo "Есть файл"
fi
  echo "Файла нет"
````
 
Так же можно записать в одну строчку 

````shell
if test -f /etc/foo; then echo "Есть файл"; echo "Файла нет";fi
````

> `;` разделитель команд
{: .prompt-info }

https://www.youtube.com/watch?v=lszvBuwGfAo

https://selectel.ru/blog/tutorials/linux-bash-scripting-guide/


